<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Tree -->
    <record id="ack_reserva_tree" model="ir.ui.view">
        <field name="name">ack.reserva.tree</field>
        <field name="model">ack_gestion_reservas.reserva</field>
        <field name="arch" type="xml">
            <tree>
                <field name="date"/>
                <field name="cliente_id"/>
                <field name="servicio_id"/>
                <field name="empleado_id"/>
                <field name="state"/>
                <field name="price"/>
            </tree>
        </field>
    </record>

    <!-- Form -->
    <record id="ack_reserva_form" model="ir.ui.view">
        <field name="name">ack.reserva.form</field>
        <field name="model">ack_gestion_reservas.reserva</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="date"/>
                        <field name="state"/>
                    </group>

                    <group>
                        <field name="cliente_id"/>
                        <field name="servicio_id"/>
                        <field name="empleado_id"/>
                        <field name="price" readonly="1"/>
                    </group>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- Calendario -->
    <record id="ack_reserva_calendar" model="ir.ui.view">
        <field name="name">ack.reserva.calendar</field>
        <field name="model">ack_gestion_reservas.reserva</field>
        <field name="arch" type="xml">
            <calendar
                string="Reservas"
                date_start="date"
                date_delay="date_delay"
                color="state"
            >
                <field name="cliente_id"/>
                <field name="servicio_id"/>
                <field name="empleado_id"/>
            </calendar>
        </field>
    </record>

    <!-- Busqueda -->
    <record id="ack_reserva_search" model="ir.ui.view">
    <field name="name">ack.reserva.search</field>
    <field name="model">ack_gestion_reservas.reserva</field>
    <field name="arch" type="xml">
        <search string="Buscar reservas">

            <!-- BÃºsqueda rapida -->
            <field name="cliente_id"/>
            <field name="empleado_id"/>
            <field name="servicio_id"/>

            <!-- Filtros -->
            <filter
                string="Pendientes"
                name="filter_draft"
                domain="[('state','=','draft')]"/>

            <filter
                string="Confirmadas"
                name="filter_confirmed"
                domain="[('state','=','confirmed')]"/>

            <filter
                string="Canceladas"
                name="filter_cancelled"
                domain="[('state','=','cancelled')]"/>

            <separator/>

            <!-- Agrupaciones -->
            <group expand="0" string="Agrupar por">
                <filter
                    string="Estado"
                    name="group_state"
                    context="{'group_by':'state'}"/>

                <filter
                    string="Empleado"
                    name="group_empleado"
                    context="{'group_by':'empleado_id'}"/>
            </group>

        </search>
    </field>
</record>


</odoo>
